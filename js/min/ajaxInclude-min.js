!function($,t,a){var e={boundAttr:"data-ajax-bound",interactionAttr:"data-interaction",makeReq:function(t,a,e){$.get(t,function(t,e,n){a.trigger("ajaxIncludeResponse",[t,n])})},plugins:{}};$.fn.ajaxInclude=function(a){function n(t){var a=t.data("url");c.proxy&&-1===$.inArray(a,d)?(d.push(a),o=o.add(t)):e.makeReq(a,t)}function r(){d.length&&(e.makeReq(c.proxy+d.join(","),o),o=$(),d=[])}function i(a,e){function i(){n(a),r(),d.removeListener(i)}var d=t.matchMedia(e);d.addListener&&d.addListener(i)}var d=[],o=$(),c={proxy:null};return"string"==typeof a?c.proxy=a:c=$.extend(c,a),this.not("["+e.boundAttr+"]").not("["+e.interactionAttr+"]").each(function(a){for(var r=$(this),d=r.attr("data-media"),o=["append","replace","before","after"],u,l,h=!1,f=r.attr("data-target"),g=o.length,s=0;g>s;s++)r.is("[data-"+o[s]+"]")&&(u=o[s],l=r.attr("data-"+u));l||(l=r.attr("href")||r.attr("action"),h=!0),"replace"===u&&(u+="With"),r.data("method",u).data("url",l).data("target",f).attr(e.boundAttr,!0).each(function(){for(var t in e.plugins)e.plugins[t].call(this,c)}).bind("ajaxIncludeResponse",function(t,a,e){var n=a,i=f?$(f):r;if(c.proxy){var d=new RegExp("<entry url=[\"']?"+r.data("url")+"[\"']?>((?:(?!</entry>)(.|\n))*)","gmi").exec(n);d&&(n=d[1])}var o=r.triggerHandler("ajaxIncludeFilter",[n]);o&&(n=o),"replaceWith"===u?(r.trigger("ajaxInclude",[n]),i[r.data("method")](n)):(i[r.data("method")](n),r.trigger("ajaxInclude",[n]))}),h?e.makeReq(l,r,!0):!d||t.matchMedia&&t.matchMedia(d).matches?n(r):d&&t.matchMedia&&i(r,d)}),r(),this},t.AjaxInclude=e}(jQuery,this);